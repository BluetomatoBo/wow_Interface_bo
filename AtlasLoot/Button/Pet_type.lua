-- ids
--[[
["PETINFO"] = 
	{
		["Mechanical Squirrel"] = 39,
		["Bombay Cat"] = 40,
		["Cornish Rex Cat"] = 41,
		["Black Tabby Cat"] = 42,
		["Orange Tabby Cat"] = 43,
		["Siamese Cat"] = 44,
		["Silver Tabby Cat"] = 45,
		["White Kitten"] = 46,
		["Cockatiel"] = 47,
		["Hyacinth Macaw"] = 49,
		["Green Wing Macaw"] = 50,
		["Senegal"] = 51,
		["Ancona Chicken"] = 52,
		["Undercity Cockroach"] = 55,
		["Dark Whelpling"] = 56,
		["Azure Whelpling"] = 57,
		["Crimson Whelpling"] = 58,
		["Emerald Whelpling"] = 59,
		["Tree Frog"] = 65,
		["Hawk Owl"] = 67,
		["Great Horned Owl"] = 68,
		["Snowy Owl"] = 69,
		["Brown Prairie Dog"] = 70,
		["Snowshoe Rabbit"] = 72,
		["Albino Snake"] = 74,
		["Black Kingsnake"] = 75,
		["Brown Snake"] = 77,
		["Crimson Snake"] = 78,
		["Mechanical Chicken"] = 83,
		["Westfall Chicken"] = 84,
		["Pet Bombling"] = 85,
		["Lil' Smoky"] = 86,
		["Sprite Darter Hatchling"] = 87,
		["Worg Pup"] = 89,
		["Smolderweb Hatchling"] = 90,
		["Panda Cub"] = 92,
		["Mini Diablo"] = 93,
		["Zergling"] = 94,
		["Lifelike Toad"] = 95,
		["Jubling"] = 106,
		["Murky"] = 107,
		["Disgusting Oozeling"] = 114,
		["Land Shark"] = 115,
		["Tranquil Mechanical Yeti"] = 116,
		["Tiny Snowman"] = 117,
		["Winter Reindeer"] = 118,
		["Father Winter's Helper"] = 119,
		["Winter's Little Helper"] = 120,
		["Peddlefeet"] = 122,
		["Speedy"] = 125,
		["Mr. Wiggles"] = 126,
		["Whiskers the Rat"] = 127,
		["Spirit of Summer"] = 128,
		["Hippogryph Hatchling"] = 130,
		["Netherwhelp"] = 131,
		["Magical Crawdad"] = 132,
		["Mana Wyrmling"] = 136,
		["Brown Rabbit"] = 137,
		["Blue Moth"] = 138,
		["Red Moth"] = 139,
		["Yellow Moth"] = 140,
		["White Moth"] = 141,
		["Golden Dragonhawk Hatchling"] = 142,
		["Red Dragonhawk Hatchling"] = 143,
		["Silver Dragonhawk Hatchling"] = 144,
		["Blue Dragonhawk Hatchling"] = 145,
		["Firefly"] = 146,
		["Miniwing"] = 149,
		["Wolpertinger"] = 153,
		["Bananas"] = 156,
		["Willy"] = 157,
		["Egbert"] = 158,
		["Peanut"] = 159,
		["Stinker"] = 160,
		["Sinister Squashling"] = 162,
		["Toothy"] = 163,
		["Muckbreath"] = 164,
		["Mojo"] = 165,
		["Pint-Sized Pink Pachyderm"] = 166,
		["Tiny Sporebat"] = 167,
		["Rocket Chicken"] = 168,
		["Dragon Kite"] = 169,
		["Golden Pig"] = 170,
		["Silver Pig"] = 171,
		["Searing Scorchling"] = 172,
		["Snarly"] = 173,
		["Chuck"] = 174,
		["Phoenix Hatchling"] = 175,
		["Ethereal Soul-Trader"] = 183,
		["Nether Ray Fry"] = 186,
		["Frosty"] = 188,
		["Ghostly Skull"] = 190,
		["Clockwork Rocket Bot"] = 191,
		["Mr. Chilly"] = 192,
		["Giant Sewer Rat"] = 193,
		["Tickbird Hatchling"] = 194,
		["White Tickbird Hatchling"] = 195,
		["Proto-Drake Whelp"] = 196,
		["Cobra Hatchling"] = 197,
		["Pengu"] = 198,
		["Kirin Tor Familiar"] = 199,
		["Spring Rabbit"] = 200,
		["Plump Turkey"] = 201,
		["Baby Blizzard Bear"] = 202,
		["Little Fawn"] = 203,
		["Teldrassil Sproutling"] = 204,
		["Dun Morogh Cub"] = 205,
		["Tirisfal Batling"] = 206,
		["Durotar Scorpion"] = 207,
		["Elwynn Lamb"] = 209,
		["Mulgore Hatchling"] = 210,
		["Strand Crawler"] = 211,
		["Ammen Vale Lashling"] = 212,
		["Enchanted Broom"] = 213,
		["Argent Squire"] = 214,
		["Mechanopeep"] = 215,
		["Argent Gruntling"] = 216,
		["Sen'jin Fetish"] = 218,
		["Withers"] = 220,
		["Calico Cat"] = 224,
		["Curious Oracle Hatchling"] = 225,
		["Curious Wolvar Pup"] = 226,
		["Warbot"] = 227,
		["Grunty"] = 228,
		["Shimmering Wyrmling"] = 229,
		["Jade Tiger"] = 231,
		["Darting Hatchling"] = 232,
		["Deviate Hatchling"] = 233,
		["Gundrak Hatchling"] = 234,
		["Leaping Hatchling"] = 235,
		["Obsidian Hatchling"] = 236,
		["Ravasaur Hatchling"] = 237,
		["Razormaw Hatchling"] = 238,
		["Razzashi Hatchling"] = 239,
		["Tuskarr Kite"] = 241,
		["Spectral Tiger Cub"] = 242,
		["Core Hound Pup"] = 244,
		["Gryphon Hatchling"] = 245,
		["Wind Rider Cub"] = 246,
		["Zipao Tiger"] = 247,
		["Pandaren Monk"] = 248,
		["Lil' K.T."] = 249,
		["Perky Pug"] = 250,
		["Toxic Wasteling"] = 251,
		["Frigid Frostling"] = 253,
		["Blue Clockwork Rocket Bot"] = 254,
		["Celestial Dragon"] = 255,
		["Lil' XT"] = 256,
		["Mini Thor"] = 258,
		["Blue Mini Jouster"] = 259,
		["Gold Mini Jouster"] = 260,
		["Personal World Destroyer"] = 261,
		["De-Weaponized Mechanical Companion"] = 262,
		["Crawling Claw"] = 264,
		["Pebble"] = 265,
		["Fossilized Hatchling"] = 266,
		["Enchanted Lantern"] = 267,
		["Lil' Deathwing"] = 268,
		["Dark Phoenix Hatchling"] = 270,
		["Rustberg Gull"] = 271,
		["Armadillo Pup"] = 272,
		["Clockwork Gnome"] = 277,
		["Fox Kit"] = 278,
		["Tiny Shale Spider"] = 279,
		["Guild Page"] = 281,
		["Guild Herald"] = 283,
		["Landro's Lil' XT"] = 285,
		["Mr. Grubbs"] = 286,
		["Tiny Flamefly"] = 287,
		["Scooter the Snail"] = 289,
		["Singing Sunflower"] = 291,
		["Magic Lamp"] = 292,
		["Elementium Geode"] = 293,
		["Deathy"] = 294,
		["Lil' Ragnaros"] = 297,
		["Moonkin Hatchling"] = 298,
		["Panther Cub"] = 301,
		["Landro's Lichling"] = 302,
		["Nightsaber Cub"] = 303,
		["Winterspring Cub"] = 306,
		["Lashtail Hatchling"] = 307,
		["Legs"] = 308,
		["Pterrordax Hatchling"] = 309,
		["Voodoo Figurine"] = 310,
		["Guardian Cub"] = 311,
		["Cenarion Hatchling"] = 316,
		["Hyjal Bear Cub"] = 317,
		["Crimson Lasher"] = 318,
		["Feline Familiar"] = 319,
		["Lil' Tarecgosa"] = 320,
		["Creepy Crate"] = 321,
		["Nuts"] = 323,
		["Brilliant Kaliri"] = 325,
		["Purple Puffer"] = 328,
		["Murkablo"] = 329,
		["Darkmoon Monkey"] = 330,
		["Alliance Balloon"] = 331,
		["Horde Balloon"] = 332,
		["Gregarious Grell"] = 333,
		["Darkmoon Turtle"] = 335,
		["Darkmoon Balloon"] = 336,
		["Lumpy"] = 337,
		["Darkmoon Tonk"] = 338,
		["Darkmoon Zeppelin"] = 339,
		["Sea Pony"] = 340,
		["Lunar Lantern"] = 341,
		["Festival Lantern"] = 342,
		["Darkmoon Cub"] = 343,
		["Fetish Shaman"] = 346,
		["Soul of the Aspects"] = 347,
		["Eye of the Legion"] = 348,
		["Black Lamb"] = 374,
		["Rabbit"] = 378,
		["Squirrel"] = 379,
		["Bucktooth Flapper"] = 380,
		["Porcupette"] = 381,
		["Sun Darter Hatchling"] = 382,
		["Eternal Strider"] = 383,
		["Mouse"] = 385,
		["Prairie Dog"] = 386,
		["Snake"] = 387,
		["Shore Crab"] = 388,
		["Tiny Harvester"] = 389,
		["Mountain Cottontail"] = 391,
		["Redridge Rat"] = 392,
		["Cockroach"] = 393,
		["Fledgling Buzzard"] = 395,
		["Dusk Spiderling"] = 396,
		["Skunk"] = 397,
		["Black Rat"] = 398,
		["Rat Snake"] = 399,
		["Widow Spiderling"] = 400,
		["Strand Crab"] = 401,
		["Swamp Moth"] = 402,
		["Parrot"] = 403,
		["Long-tailed Mole"] = 404,
		["Tree Python"] = 405,
		["Beetle"] = 406,
		["Forest Spiderling"] = 407,
		["Lizard Hatchling"] = 408,
		["Polly"] = 409,
		["Wharf Rat"] = 410,
		["Baby Ape"] = 411,
		["Spider"] = 412,
		["Scorpid"] = 414,
		["Fire Beetle"] = 415,
		["Scorpling"] = 416,
		["Rat"] = 417,
		["Water Snake"] = 418,
		["Small Frog"] = 419,
		["Toad"] = 420,
		["Crimson Moth"] = 421,
		["Moccasin"] = 422,
		["Lava Crab"] = 423,
		["Roach"] = 424,
		["Ash Viper"] = 425,
		["Ash Spiderling"] = 427,
		["Molten Hatchling"] = 428,
		["Lava Beetle"] = 429,
		["Gold Beetle"] = 430,
		["Rattlesnake"] = 431,
		["Stripe-Tailed Scorpid"] = 432,
		["Spiky Lizard"] = 433,
		["Little Black Ram"] = 437,
		["King Snake"] = 438,
		["Restless Shadeling"] = 439,
		["Snow Cub"] = 440,
		["Alpine Hare"] = 441,
		["Irradiated Roach"] = 442,
		["Grasslands Cottontail"] = 443,
		["Tiny Twister"] = 445,
		["Jade Oozeling"] = 446,
		["Fawn"] = 447,
		["Hare"] = 448,
		["Brown Marmot"] = 449,
		["Maggot"] = 450,
		["Red-Tailed Chipmunk"] = 452,
		["Infested Bear Cub"] = 453,
		["Undercity Rat"] = 454,
		["Blighted Squirrel"] = 455,
		["Blighthawk"] = 456,
		["Festering Maggot"] = 457,
		["Lost of Lordaeron"] = 458,
		["Cat"] = 459,
		["Ruby Sapling"] = 460,
		["Larva"] = 461,
		["Spirit Crab"] = 463,
		["Grey Moth"] = 464,
		["Ravager Hatchling"] = 465,
		["Spiny Lizard"] = 466,
		["Dung Beetle"] = 467,
		["Creepy Crawly"] = 468,
		["Twilight Beetle"] = 469,
		["Twilight Spider"] = 470,
		["Robo-Chick"] = 471,
		["Rabid Nut Varmint 5000"] = 472,
		["Turquoise Turtle"] = 473,
		["Cheetah Cub"] = 474,
		["Giraffe Calf"] = 475,
		["Gazelle Fawn"] = 477,
		["Forest Moth"] = 478,
		["Elfin Rabbit"] = 479,
		["Topaz Shale Hatchling"] = 480,
		["Rock Viper"] = 482,
		["Horny Toad"] = 483,
		["Desert Spider"] = 484,
		["Stone Armadillo"] = 485,
		["Alpine Chipmunk"] = 487,
		["Coral Snake"] = 488,
		["Spawn of Onyxia"] = 489,
		["Sand Kitten"] = 491,
		["Stinkbug"] = 492,
		["Shimmershell Snail"] = 493,
		["Silithid Hatchling"] = 494,
		["Frog"] = 495,
		["Rusty Snail"] = 496,
		["Tainted Cockroach"] = 497,
		["Tainted Moth"] = 498,
		["Tainted Rat"] = 499,
		["Minfernal"] = 500,
		["Spotted Bell Frog"] = 502,
		["Silky Moth"] = 503,
		["Diemetradon Hatchling"] = 504,
		["Twilight Iguana"] = 505,
		["Venomspitter Hatchling"] = 506,
		["Crested Owl"] = 507,
		["Darkshore Cub"] = 508,
		["Tiny Bog Beast"] = 509,
		["Sidewinder"] = 511,
		["Scarab Hatchling"] = 512,
		["Qiraji Guardling"] = 513,
		["Flayer Youngling"] = 514,
		["Sporeling Sprout"] = 515,
		["Warpstalker Hatchling"] = 517,
		["Clefthoof Runt"] = 518,
		["Fel Flame"] = 519,
		["Fledgling Nether Ray"] = 521,
		["Devouring Maggot"] = 523,
		["Turkey"] = 525,
		["Scalded Basilisk Hatchling"] = 528,
		["Fjord Worg Pup"] = 529,
		["Oily Slimeling"] = 530,
		["Stunted Shardhorn"] = 532,
		["Imperial Eagle Chick"] = 534,
		["Water Waveling"] = 535,
		["Tundra Penguin"] = 536,
		["Dragonbone Hatchling"] = 537,
		["Scourged Whelpling"] = 538,
		["Grotto Vole"] = 539,
		["Carrion Rat"] = 540,
		["Fire-Proof Roach"] = 541,
		["Mac Frog"] = 542,
		["Locust"] = 543,
		["Oasis Moth"] = 544,
		["Leopard Scorpid"] = 545,
		["Tol'vir Scarab"] = 546,
		["Nordrassil Wisp"] = 547,
		["Wildhammer Gryphon Hatchling"] = 548,
		["Yellow-Bellied Marmot"] = 549,
		["Highlands Mouse"] = 550,
		["Twilight Fiendling"] = 552,
		["Stowaway Rat"] = 553,
		["Crimson Shale Hatchling"] = 554,
		["Deepholm Cockroach"] = 555,
		["Crystal Beetle"] = 556,
		["Nether Faerie Dragon"] = 557,
		["Arctic Fox Kit"] = 558,
		["Crimson Geode"] = 559,
		["Sea Gull"] = 560,
		["Coral Adder"] = 562,
		["Emerald Turtle"] = 564,
		["Jungle Darter"] = 565,
		["Mirror Strider"] = 566,
		["Temple Snake"] = 567,
		["Silkbead Snail"] = 568,
		["Garden Frog"] = 569,
		["Masked Tanuki"] = 570,
		["Grove Viper"] = 571,
		["Spirebound Crab"] = 572,
		["Sandy Petrel"] = 573,
		["Bat"] = 626,
		["Infected Squirrel"] = 627,
		["Infected Fawn"] = 628,
		["Shore Crawler"] = 629,
		["Gilnean Raven"] = 630,
		["Emerald Boa"] = 631,
		["Ash Lizard"] = 632,
		["Mountain Skunk"] = 633,
		["Crystal Spider"] = 634,
		["Adder"] = 635,
		["Skittering Cavern Crawler"] = 637,
		["Nether Roach"] = 638,
		["Borean Marmot"] = 639,
		["Snowshoe Hare"] = 640,
		["Arctic Hare"] = 641,
		["Fjord Rat"] = 644,
		["Highlands Turkey"] = 645,
		["Chicken"] = 646,
		["Grizzly Squirrel"] = 647,
		["Huge Toad"] = 648,
		["Biletoad"] = 649,
		["Terrible Turnip"] = 650,
		["Tiny Goldfish"] = 652,
		["Sand Scarab"] = 665,
		["Micronax"] = 666,
		["Lucky Quilen Cub"] = 671,
		["Stormwind Rat"] = 675,
		["Shy Bandicoon"] = 677,
		["Jungle Grub"] = 678,
		["Summit Kid"] = 679,
		["Kuitan Mongoose"] = 680,
		["Jumping Spider"] = 699,
		["Leopard Tree Frog"] = 702,
		["Masked Tanuki Pup"] = 703,
		["Bandicoon"] = 706,
		["Bandicoon Kit"] = 707,
		["Malayan Quillrat"] = 708,
		["Malayan Quillrat Pup"] = 709,
		["Marsh Fiddler"] = 710,
		["Sifang Otter"] = 711,
		["Sifang Otter Pup"] = 712,
		["Softshell Snapling"] = 713,
		["Feverbite Hatchling"] = 714,
		["Amethyst Spiderling"] = 716,
		["Savory Beetle"] = 717,
		["Luyu Moth"] = 718,
		["Mei Li Sparkler"] = 722,
		["Spiny Terrapin"] = 723,
		["Alpine Foxling"] = 724,
		["Alpine Foxling Kit"] = 725,
		["Plains Monitor"] = 726,
		["Prairie Mouse"] = 727,
		["Szechuan Chicken"] = 728,
		["Tolai Hare"] = 729,
		["Tolai Hare Pup"] = 730,
		["Zooey Snake"] = 731,
		["Amber Moth"] = 732,
		["Grassland Hopper"] = 733,
		["Mongoose"] = 737,
		["Mongoose Pup"] = 739,
		["Yakrat"] = 740,
		["Silent Hedgehog"] = 741,
		["Clouded Hedgehog"] = 742,
		["Rapana Whelk"] = 743,
		["Resilient Roach"] = 744,
		["Crunchy Scorpion"] = 745,
		["Emperor Crab"] = 746,
		["Effervescent Glowfly"] = 747,
		["Gilded Moth"] = 748,
		["Golden Civet"] = 749,
		["Golden Civet Kitten"] = 750,
		["Dancing Water Skimmer"] = 751,
		["Yellow-Bellied Bullfrog"] = 752,
		["Garden Moth"] = 753,
		["Shrine Fly"] = 754,
		["Death's Head Cockroach"] = 755,
		["Fungal Moth"] = 756,
		["Jade Crane Chick"] = 792,
		["Thundering Serpent Hatchling"] = 802,
		["Wild Jade Hatchling"] = 817,
		["Wild Golden Hatchling"] = 818,
		["Wild Crimson Hatchling"] = 819,
		["Singing Cricket"] = 820,
		["Feral Vermling"] = 821,
		["Highlands Skunk"] = 823,
		["Grinder"] = 834,
		["Hopling"] = 835,
		["Aqua Strider"] = 836,
		["Emerald Shale Hatchling"] = 837,
		["Amethyst Shale Hatchling"] = 838,
		["Mechanical Pandaren Dragonling"] = 844,
		["Jade Owl"] = 845,
		["Sapphire Cub"] = 846,
		["Fishy"] = 847,
		["Darkmoon Rabbit"] = 848,
		["Chi-Ji Kite"] = 849,
		["Yu'lon Kite"] = 850,
		["Horned Lizard"] = 851,
		["Venus"] = 855,
		["Jade Tentacle"] = 856,
		["Pandaren Water Spirit"] = 868,
		["Baneling"] = 903,
		["Wanderer's Festival Hatchling"] = 1013,
		["Imperial Moth"] = 1039,
		["Imperial Silkworm"] = 1040,
		["Red Cricket"] = 1042,
		["Darkmoon Hatchling"] = 1061,
		["Darkmoon Glowfly"] = 1062,
		["Darkmoon Eye"] = 1063,
		["Crow"] = 1068,
		["Terky"] = 1073,
		["Cinder Kitten"] = 1117,
		["Pandaren Fire Spirit"] = 1124,
		["Pandaren Air Spirit"] = 1125,
		["Pandaren Earth Spirit"] = 1126,
		["Sumprush Rodent"] = 1128,
		["Clock'em"] = 1142,
		["Giant Bone Spider"] = 1143,
		["Fungal Abomination"] = 1144,
		["Mr. Bigglesworth"] = 1145,
		["Stitched Pup"] = 1146,
		["Harbinger of Flame"] = 1147,
		["Corefire Imp"] = 1149,
		["Ashstone Core"] = 1150,
		["Untamed Hatchling"] = 1151,
		["Chrominius"] = 1152,
		["Death Talon Whelpguard"] = 1153,
		["Viscidus Globule"] = 1154,
		["Anubisath Idol"] = 1155,
		["Mini Mindslayer"] = 1156,
		["Harpy Youngling"] = 1157,
		["Stunted Yeti"] = 1158,
		["Lofty Libram"] = 1159,
		["Arcane Eye"] = 1160,
		["Infinite Whelpling"] = 1161,
		["Fluxfire Feline"] = 1162,
		["Anodized Robo Cub"] = 1163,
		["Cogblade Raptor"] = 1164,
		["Nexus Whelpling"] = 1165,
		["Kun-Lai Runt"] = 1166,
		["Emerald Proto-Whelp"] = 1167,
		["Gusting Grimoire"] = 1174,
		["Thundertail Flapper"] = 1175,
		["Red Panda"] = 1176,
		["Living Sandling"] = 1177,
		["Sunreaver Micro-Sentry"] = 1178,
		["Electrified Razortooth"] = 1179,
		["Zandalari Kneebiter"] = 1180,
		["Elder Python"] = 1181,
		["Swamp Croaker"] = 1182,
		["Son of Animus"] = 1183,
		["Stunted Direhorn"] = 1184,
		["Spectral Porcupette"] = 1185,
		["Sunfur Panda"] = 1196,
		["Snowy Panda"] = 1197,
		["Mountain Panda"] = 1198,
		["Pygmy Direhorn"] = 1200,
		["Spawn of G'nathus"] = 1201,
		["Ji-Kun Hatchling"] = 1202,
		["Pierre"] = 1204,
		["Direhorn Runt"] = 1205,
		["Tiny Red Carp"] = 1206,
		["Tiny Blue Carp"] = 1207,
		["Tiny Green Carp"] = 1208,
		["Tiny White Carp"] = 1209,
		["Zandalari Anklerender"] = 1211,
		["Zandalari Footslasher"] = 1212,
		["Zandalari Toenibbler"] = 1213,
		["Lil' Bad Wolf"] = 1226,
		["Menagerie Custodian"] = 1227,
		["Netherspace Abyssal"] = 1228,
		["Fiendish Imp"] = 1229,
		["Tideskipper"] = 1230,
		["Tainted Waveling"] = 1231,
		["Coilfang Stalker"] = 1232,
		["Pocket Reaver"] = 1233,
		["Lesser Voidcaller"] = 1234,
		["Phoenix Hawk Hatchling"] = 1235,
		["Tito"] = 1236,
		["Gahz'rooki"] = 1237,
		["Unborn Val'kyr"] = 1238,
		["Living Fluid"] = 1243,
		["Viscous Horror"] = 1244,
		["Filthling"] = 1245,
		["Blossoming Ancient"] = 1248,
		["Zeradar"] = 1255,
		["Rascal-Bot"] = 1256,
		["Xu-Fu, Cub of Xuen"] = 1266,
		["Moon Moon"] = 1276,
		["Chi-Chi, Hatchling of Chi-Ji"] = 1303,
		["Yu'la, Broodling of Yu'lon"] = 1304,
		["Zao, Calfling of Niuzao"] = 1305,
		["Lil' Bling"] = 1320,
		["Azure Crane Chick"] = 1321,
		["Blackfuse Bombling"] = 1322,
		["Ashleaf Spriteling"] = 1323,
		["Ashwing Moth"] = 1324,
		["Flamering Moth"] = 1325,
		["Skywisp Moth"] = 1326,
		["Ruby Droplet"] = 1328,
		["Dandelion Frolicker"] = 1329,
		["Death Adder Hatchling"] = 1330,
		["Droplet of Y'Shaarj"] = 1331,
		["Gooey Sha-ling"] = 1332,
		["Jademist Dancer"] = 1333,
		["Kovok"] = 1334,
		["Ominous Flame"] = 1335,
		["Skunky Alemental"] = 1336,
		["Spineclaw Crab"] = 1337,
		["Gulp Froglet"] = 1338,
		["Bonkers"] = 1343,
		["Vengeful Porcupette"] = 1344,
		["Gu'chi Swarmling"] = 1345,
		["Harmonious Porcupette"] = 1346,
		["Jadefire Spirit"] = 1348,
		["Rotten Little Helper"] = 1349,
		["Sky Lantern"] = 1350,
		["Macabre Marionette"] = 1351,
		["Alterac Brew-Pup"] = 1363,
		["Murkalot"] = 1364,
		["Treasure Goblin"] = 1365,
		["Hogs"] = 1384,
		["Albino Chimaeraling"] = 1385,
		["Dread Hatchling"] = 1386,
		["Iron Starlette"] = 1387,
		["Weebomination"] = 1394,
		["Lil' Leftovers"] = 1395,
		["Crazy Carrot"] = 1396,
		["Mechanical Axebeak"] = 1403,
		["Royal Peachick"] = 1411,
		["Lifelike Mechanical Frostboar"] = 1412,
		["Teroclaw Hatchling"] = 1416,
		["Elekk Plushie"] = 1426,
		["Frostfur Rat"] = 1427,
		["Zomstrok"] = 1428,
		["Autumnal Sproutling"] = 1429,
		["Forest Sproutling"] = 1430,
		["Nightshade Sproutling"] = 1432,
		["Sun Sproutling"] = 1434,
		["Leatherhide Runt"] = 1435,
		["Mud Jumper"] = 1441,
		["Ghastly Kid"] = 1442,
		["Meadowstomper Calf"] = 1446,
		["Moonshell Crab"] = 1447,
		["Sea Calf"] = 1448,
		["Deathwatch Hatchling"] = 1449,
		["Draenei Micro Defender"] = 1450,
		["Molten Corgi"] = 1451,
		["River Calf"] = 1453,
		["Murkidan"] = 1454,
		["Mossbite Skitterer"] = 1455,
		["Thicket Skitterer"] = 1456,
		["Icespine Hatchling"] = 1457,
		["Bone Wasp"] = 1458,
		["Bloodsting Wasp"] = 1462,
		["Wood Wasp"] = 1463,
		["Twilight Wasp"] = 1464,
		["Amberbarb Wasp"] = 1465,
		["Brightpaw"] = 1466,
		["Sky-Bo"] = 1467,
		["Bloodbeak"] = 1468,
		["Junglebeak"] = 1469,
		["Axebeak Hatchling"] = 1470,
		["Fruit Hunter"] = 1471,
		["Syd the Squid"] = 1478,
		["Ore Eater"] = 1495,
		["Lovebird Hatchling"] = 1511,
		["Mystical Spring Bouquet"] = 1514,
		["Stonegrinder"] = 1515,
		["Bush Chicken"] = 1516,
		["Blazing Cindercrawler"] = 1517,
		["Stout Alemental"] = 1518,
		["Cursed Birman"] = 1521,
		["Widget the Departed"] = 1523,
		["Netherspawn, Spawn of Netherspawn"] = 1524,
		["Frostwolf Ghostpup"] = 1530,
		["Ancient Nest Guardian"] = 1531,
		["Ikky"] = 1532,
		["Lanticore Spawnling"] = 1533,
		["Zangar Spore"] = 1536,
		["Crimson Spore"] = 1537,
		["Umbrafen Spore"] = 1538,
		["Seaborne Spore"] = 1539,
		["Brilliant Spore"] = 1540,
		["Hydraling"] = 1541,
		["Frostwolf Pup"] = 1542,
		["Pygmy Cow"] = 1543,
		["Hatespark the Tiny"] = 1544,
		["Firewing"] = 1545,
		["Stormwing"] = 1546,
		["Bronze Whelpling"] = 1563,
		["Doom Bloom"] = 1564,
		["Mechanical Scorpid"] = 1565,
		["Everbloom Peachick"] = 1566,
		["Sentinel's Companion"] = 1567,
		["Puddle Terror"] = 1568,
		["Soul of the Forge"] = 1569,
		["Sunfire Kaliri"] = 1570,
		["Albino River Calf"] = 1571,
		["Brilliant Bloodfeather"] = 1572,
		["Golden Dawnfeather"] = 1573,
		["Son of Sethe"] = 1574,
		["Sky Fry"] = 1575,
		["Eye of Observation"] = 1576,
		["Bloodthorn Hatchling"] = 1577,
		["Frostshell Pincher"] = 1578,
		["Ironclaw Scuttler"] = 1579,
		["Fen Crab"] = 1581,
		["Zangar Crawler"] = 1582,
		["Kelp Scuttler"] = 1583,
		["Cerulean Moth"] = 1586,
		["Royal Moth"] = 1587,
		["Dusty Sporewing"] = 1588,
		["Crimsonwing Moth"] = 1589,
		["Swamplighter Firefly"] = 1590,
		["Violet Firefly"] = 1591,
		["Sapphire Firefly"] = 1592,
		["Waterfly"] = 1593,
		["Mudback Calf"] = 1594,
		["Flat-Tooth Calf"] = 1595,
		["Veilwatcher Hatchling"] = 1596,
		["Kaliri Hatchling"] = 1597,
		["Glowing Sporebat"] = 1598,
		["Shadow Sporebat"] = 1599,
		["Bone Serpent"] = 1600,
		["Servant of Demidos"] = 1601,
		["Grommloc"] = 1602,
		["Argi"] = 1603,
		["Nethaera's Light"] = 1604,
		["Trunks"] = 1605,
		["Parched Lizard"] = 1615,
		["Grotesque"] = 1622,
		["Leviathan Hatchling"] = 1623,
		["Abyssius"] = 1624,
		["Fragment of Anger"] = 1625,
		["Fragment of Suffering"] = 1626,
		["Fragment of Desire"] = 1627,
		["Sister of Temptation"] = 1628,
		["Stinkrot"] = 1629,
		["Hyjal Wisp"] = 1631,
		["Sunblade Micro-Defender"] = 1632,
		["Chaos Pup"] = 1633,
		["Wretched Servant"] = 1634,
		["K'ute"] = 1635,
		["Race MiniZep"] = 1636,
		["Graves"] = 1639,
		["Slithershock Elver"] = 1655,
		["Young Talbuk"] = 1656,
		["Fel Pup"] = 1660,
		["Lost Netherpup"] = 1661,
		["Cinder Pup"] = 1662,
		["Periwinkle Calf"] = 1663,
		["Nightmare Bell"] = 1664,
		["Ghostshell Crab"] = 1665,
		["Blorp"] = 1666,
		["Corrupted Nest Guardian"] = 1672,
		["Left Shark"] = 1687,
		["Crusher"] = 1688,
		["Shard of Cyrukh"] = 1690,
		["Nibbles"] = 1691,
		["Savage Cub"] = 1692,
		["Blazing Firehawk"] = 1693,
		["Enchanted Cauldron"] = 1699,
		["Enchanted Torch"] = 1700,
		["Enchanted Pen"] = 1701,
		["Grumpy"] = 1705,
		["Ashmaw Cub"] = 1706,
		["Albatross Chick"] = 1708,
		["Fledgling Kingfeather"] = 1709,
		["Fledgling Oliveback"] = 1710,
		["Skyhorn Nestling"] = 1711,
		["Golden Eaglet"] = 1712,
		["Long-Eared Owl"] = 1713,
		["Northern Hawk Owl"] = 1714,
		["Nightwatch Swooper"] = 1715,
		["Fledgling Warden Owl"] = 1716,
		["Extinguished Eye"] = 1717,
		["Hateful Eye"] = 1718,
		["Eye of Inquisition"] = 1719,
		["Emmigosa"] = 1720,
		["Stormborne Whelpling"] = 1721,
		["Dream Whelpling"] = 1722,
		["Nightmare Whelpling"] = 1723,
		["Grumpling"] = 1725,
		["Burrow Spiderling"] = 1726,
		["Nursery Spider"] = 1727,
		["Juvenile Scuttleback"] = 1728,
		["Olivetail Hare"] = 1729,
		["Spectral Spinner"] = 1730,
		["Felspider"] = 1731,
		["Shimmering Aquafly"] = 1734,
		["Terror Larva"] = 1735,
		["Slithering Brownscale"] = 1736,
		["Vale Flitter"] = 1737,
		["Auburn Ringtail"] = 1738,
		["Spring Strider"] = 1739,
		["Ghost Maggot"] = 1740,
		["Ghastly Rat"] = 1741,
		["Black-Footed Fox Kit"] = 1743,
		["Mist Fox Kit"] = 1744,
		["Rose Taipan"] = 1749,
		["Tiny Apparition"] = 1750,
		["Crispin"] = 1752,
		["Bleakwater Jelly"] = 1753,
		["Sewer-Pipe Jelly"] = 1754,
		["Plump Jelly"] = 1755,
		["Ridgeback Piglet"] = 1756,
		["Thaumaturgical Piglet"] = 1759,
		["Fel Piglet"] = 1760,
		["Echo Batling"] = 1761,
		["Hog-Nosed Bat"] = 1762,
		["Spiketail Beaver"] = 1763,
		["Energized Manafiend"] = 1764,
		["Empyreal Manafiend"] = 1765,
		["Empowered Manafiend"] = 1766,
		["Erudite Manafiend"] = 1773,
		["Eldritch Manafiend"] = 1774,
		["Coralback Fiddler"] = 1775,
		["Mudshell Conch"] = 1776,
		["Broot"] = 1777,
		["Dust Bunny"] = 1778,
		["Fetid Waveling"] = 1802,
		["Thistleleaf Adventurer"] = 1803,
		["Risen Saber Kitten"] = 1804,
		["Alarm-o-Bot"] = 1805,
		["Knockoff Blingtron"] = 1806,
		["Vicious Broodling"] = 1807,
		["Leyline Broodling"] = 1808,
		["Crystalline Broodling"] = 1809,
		["Thornclaw Broodling"] = 1810,
		["Baby Winston"] = 1828,
		["Baby Elderhorn"] = 1884,
		["Sunborne Val'kyr"] = 1885,
		["Trigger"] = 1886,
		["Wyrmy Tunkins"] = 1887,
		["Celestial Calf"] = 1888,
		["Felbat Pup"] = 1889,
		["Corgi Pup"] = 1890,
		["Zoom"] = 1903,
		["Pygmy Owl"] = 1907,
		["Sting Ray Pup"] = 1911,
		["Young Mutant Warturtle"] = 1912,
		["Gleamhoof Fawn"] = 1913,
		["Coastal Sandpiper"] = 1914,
		["Blind Rat"] = 1915,
		["Stormstruck Beaver"] = 1917,
		["Alliance Enthusiast"] = 1918,
		["Horde Fanatic"] = 1919,
		["Transmutant"] = 1920,
		["Untethered Wyrmling"] = 1921,
		["Lurking Owl Kitten"] = 1922,
		["Hungering Claw"] = 1926,
		["Ash'ana"] = 1927,
		["Firebat Pup"] = 1928,
		["Corgnelius"] = 1929,
		["Lagan"] = 1930,
		["Court Scribe"] = 1931,
		["Nightmare Lasher"] = 1932,
		["Nightmare Treant"] = 1933,
		["Benax"] = 1934,
		["Squirky"] = 1935,
		["Mischief"] = 1936,
		["Wondrous Wisdomball"] = 1937,
		["Rescued Fawn"] = 1938,
		["Legionnaire Murky"] = 1939,
		["Knight-Captain Murky"] = 1940,
		["Snowfang"] = 1941,
		["Noblegarden Bunny"] = 1943,
		["Igneous Flameling"] = 1949,
		["Dreadmaw"] = 1952,
		["Snobold Runt"] = 1953,
		["Nerubian Swarmer"] = 1954,
		["Magma Rageling"] = 1955,
		["Ironbound Proto-Whelp"] = 1956,
		["Runeforged Servitor"] = 1957,
		["Sanctum Cub"] = 1958,
		["Winter Rageling"] = 1959,
		["Snaplasher"] = 1960,
		["G0-R41-0N Ultratonk"] = 1961,
		["Creeping Tentacle"] = 1962,
		["Boneshard"] = 1963,
		["Blood Boil"] = 1964,
		["Blightbreath"] = 1965,
		["Soulbroken Whelpling"] = 1966,
		["Drudge Ghoul"] = 1967,
		["Wicked Soul"] = 1968,
		["Stardust"] = 1969,
		["Snowfeather Hatchling"] = 1974,
		["Direbeak Hatchling"] = 1975,
		["Sharptalon Hatchling"] = 1976,
		["Bloodgazer Hatchling"] = 1977,
		["Dutiful Squire"] = 1978,
		["Dutiful Gruntling"] = 1979,
		["Albino Buzzard"] = 1984,
		["Crackers"] = 1997,
		["Everliving Spore"] = 1998,
		["Cavern Moccasin"] = 1999,
		["Young Venomfang"] = 2000,
		["Dibbler"] = 2001,
		["Naxxy"] = 2002,
		["Hearthy"] = 2003,
		["Trashy"] = 2004,
		["Infinite Hatchling"] = 2017,
		["Paradox Spirit"] = 2018,
		["Tylarr Gronnden"] = 2022,
		["Bloodbrood Whelpling"] = 2035,
		["Frostbrood Whelpling"] = 2036,
		["Vilebrood Whelpling"] = 2037,
		["Pocket Cannon"] = 2041,
		["Scraps"] = 2042,
		["Ban-Fu, Cub of Ban-Lu"] = 2047,
		["Son of Skum"] = 2049,
		["Orphaned Felbat"] = 2050,
		["Twilight"] = 2051,
		["Tricorne"] = 2057,
		["Foe Reaper 0.9"] = 2058,
		["Shadow"] = 2062,
		["Sneaky Marmot"] = 2063,
		["Mining Monkey"] = 2064,
		["Dig Rat"] = 2065,
		["Bronze Proto-Whelp"] = 2071,
		["Ageless Bronze Drake"] = 2072,
		["Ghost Shark"] = 2077,
		["Tinytron"] = 2078,
		["Discarded Experiment"] = 2079,
		["Rattlejaw"] = 2080,
		["Twilight Clutch-Sister"] = 2081,
		["Bound Stream"] = 2082,
		["Faceless Minion"] = 2083,
		["Zephyrian Prince"] = 2084,
		["Drafty"] = 2085,
		["Blazehound"] = 2086,
		["Cinderweb Recluse"] = 2087,
		["Surger"] = 2088,
		["Infernal Pyreclaw"] = 2089,
		["Faceless Mindlasher"] = 2090,
		["Corrupted Blood"] = 2091,
		["Unstable Tendril"] = 2092,
		["Amalgam of Destruction"] = 2093,
		["Felclaw Marsuul"] = 2113,
		["Globe Yeti"] = 2114,
		["Cross Gazer"] = 2115,
		["Orphaned Marsuul"] = 2116,
		["Fel Lasher"] = 2117,
		["Docile Skyfin"] = 2118,
		["Fel-Afflicted Skyfin"] = 2119,
		["Grasping Manifestation"] = 2120,
		["Fossorial Bile Larva"] = 2121,
		["Antoran Bile Larva"] = 2122,
		["Bile Larva"] = 2123,
		["Bilescourge"] = 2124,
		["Antoran Bilescourge"] = 2126,
		["Flickering Argunite"] = 2127,
		["Warpstalker Runt"] = 2128,
		["Voidstalker Runt"] = 2129,
		["Void Shardling"] = 2130,
		["Arcane Gorger"] = 2131,
		["Felcrazed Wyrm"] = 2132,
		["Pygmy Marsuul"] = 2133,
		["Skyfin Juvenile"] = 2134,
		["Rebellious Imp"] = 2135,
		["Uuna"] = 2136,
		["Tottle"] = 2143,
		["Dart"] = 2157,
		["Mailemental"] = 2158,
		["Silithid Mini-Tank"] = 2163,
		["Francois"] = 2165,
		["Cap'n Crackers"] = 2185,
		["Spawn of Merektha"] = 2186,
		["Filthy Slime"] = 2187,
		["Poda"] = 2188,
		["Smoochums"] = 2189,
		["Guardian Cobra Hatchling"] = 2190,
		["Vengeful Chicken"] = 2192,
		["Lil' Tika"] = 2196,
		["Direhorn Hatchling"] = 2197,
		["Taptaf"] = 2198,
		["Restored Revenant"] = 2199,
		["Miimii"] = 2202,
		["Baa'l"] = 2352,
		["Shadowback Crawler"] = 2372,
		["River Frog"] = 2373,
		["Freshwater Crawler"] = 2374,
		["Vale Marmot"] = 2375,
		["Valley Chicken"] = 2376,
		["Sandyback Crawler"] = 2377,
		["River Otter"] = 2378,
		["Honey Bee"] = 2379,
		["Parasitic Boarfly"] = 2380,
		["Shack Crab"] = 2381,
		["Inland Croaker"] = 2382,
		["Giant Woodworm"] = 2383,
		["Shore Butterfly"] = 2384,
		["Barrier Hermit"] = 2385,
		["Coastal Scuttler"] = 2386,
		["Golden Beetle"] = 2387,
		["Bloodfever Tarantula"] = 2388,
		["Elusive Skimmer"] = 2389,
		["Leafy Flutterwing"] = 2390,
		["Young Sand Sifter"] = 2392,
		["Sticky Oozeling"] = 2393,
		["Returned Hatchling"] = 2394,
		["Glutted Bleeder"] = 2395,
		["Spectral Raven"] = 2397,
		["Boghopper"] = 2398,
		["Hermit Crab"] = 2399,
		["Coastal Bounder"] = 2400,
		["Rooter"] = 2401,
		["Brutus"] = 2402,
		["Abyssal Eel"] = 2403,
		["Seabreeze Bumblebee"] = 2404,
		["Corlain Falcon"] = 2405,
		["Drustvar Piglet"] = 2406,
		["Frenzied Cottontail"] = 2407,
		["Bilefang Skitterer"] = 2408,
		["Greatwing Macaw"] = 2409,
		["Mechanical Prairie Dog"] = 2410,
		["Wicker Pup"] = 2411,
		["Tiny Direhorn"] = 2412,
		["Zandalari Shinchomper"] = 2413,
		["Bloodfeaster Larva"] = 2414,
		["Tragg the Curious"] = 2415,
		["Lil' Ben'fon"] = 2416,
		["Ranishu Runt"] = 2417,
		["Child of Jani"] = 2418,
		["Swamp Toad"] = 2419,
		["Accursed Hexxer"] = 2420,
		["Saurolisk Hatchling"] = 2421,
		["Blue Flitter"] = 2422,
		["Freshwater Pincher"] = 2423,
		["Crimson Frog"] = 2424,
		["Barnacled Hermit Crab"] = 2425,
		["Sandstinger Wasp"] = 2426,
		["Cou'pa"] = 2427,
		["Carnivorous Lasher"] = 2428,
		["Azeriti"] = 2429,
		["Lost Platysaur"] = 2430,
		["Dreadtick Leecher"] = 2431,
		["Fuzzy Creepling"] = 2432,
		["Aldrusian Sproutling"] = 2433,
		["Voidwiggler"] = 2434,
		["Teeny Titan Orb"] = 2435,
		["Scabby"] = 2436,
		["Ragepeep"] = 2437,
		["Foulfeather"] = 2438,
		["Azerite Puddle"] = 2439,
		["Fozling"] = 2440,
		["Squawkling"] = 2441,
		["Bumbles"] = 2442,
		["Lil' Siege Tower"] = 2443,
		["Lil' War Machine"] = 2444,
		["Scuttle"] = 2445,
		["Sparkleshell Sandcrawler"] = 2446,
		["Kindleweb Spiderling"] = 2447,
		["Craghoof Kid"] = 2448,
		["False Knucklebump"] = 2449,
		["Tinder Pup"] = 2450,
		["Bloodstone Tunneler"] = 2451,
		["Poro"] = 2452,
		["Juvenile Brineshell"] = 2453,
		["Kunchong Hatchling"] = 2454,
		["Captain Nibs"] = 2455,
		["Barnaby"] = 2456,
		["Coldlight Surfrunner"] = 2457,
		["Muskflank Calfling"] = 2458,
		["Snort"] = 2459,
		["Voru'kar Leecher"] = 2460,
		["Inky"] = 2461,
		["Octopode Fry"] = 2462,
		["Sandshell Chitterer"] = 2463,
		["Deathsting Scorpid"] = 2464,
		["Playful Frostkin"] = 2465,
		["Giggling Flame"] = 2466,
		["Mischievous Zephyr"] = 2467,
		["Laughing Stonekin"] = 2468,
		["Thistlebrush Bud"] = 2469,
		["Littlehoof"] = 2471,
		["Snapper"] = 2472,
		["Sunscale Hatchling"] = 2473,
		["Gearspring Hopper"] = 2474,
		["Slippy"] = 2475,
		["Baby Crawg"] = 2477,
		["Sir Snips"] = 2478,
		["Bucketshell"] = 2479,

	}
]]

local AtlasLoot = _G.AtlasLoot
local Pet = AtlasLoot.Button:AddType("Pet", "pet")
local Item = AtlasLoot.Button:GetType("Item")
local AL = AtlasLoot.Locales

--lua
local type = type
local tonumber = tonumber
local str_match = string.match

-- blizzard
local IsAddOnLoaded, LoadAddOn = IsAddOnLoaded, LoadAddOn 
local ShowUIPanel = ShowUIPanel
local C_PetJournal_GetPetInfoBySpeciesID = C_PetJournal.GetPetInfoBySpeciesID

local PET_COLOR = "|cffffff00"
local PET_JOURNAL_TEXTURE = "Interface\\PetBattles\\PetJournal"

local PetClickHandler = nil

function Pet.OnSet(button, second)
	if not PetClickHandler then
		PetClickHandler = AtlasLoot.ClickHandler:Add(
		"Pet",
		{
			GoTo = { "LeftButton", "None" },
			types = {
				GoTo = true,
			},
		},
		AtlasLoot.db.Button.Pet.ClickHandler, 
		{
			{ "GoTo",		AL["Show Pet in Journal"],			AL["Show Pet in Journal"] },
		})
	end
	if not button then return end
	if second and button.__atlaslootinfo.secType then
		if type(button.__atlaslootinfo.secType[2]) == "table" then
			button.secButton.PetID = button.__atlaslootinfo.secType[2][1]
			button.secButton.ItemID = button.__atlaslootinfo.secType[2][2]
		else
			button.secButton.PetID = button.__atlaslootinfo.secType[2]
		end
		Pet.Refresh(button.secButton)
	else
		if type(button.__atlaslootinfo.type[2]) == "table" then
			button.PetID = button.__atlaslootinfo.type[2][1]
			button.ItemID = button.__atlaslootinfo.type[2][2]
		else
			button.PetID = button.__atlaslootinfo.type[2]
		end
		Pet.Refresh(button)
	end
end

function Pet.OnMouseAction(button, mouseButton)
	if not mouseButton then return end
	mouseButton = PetClickHandler:Get(mouseButton)
	if mouseButton == "GoTo" then
		if not IsAddOnLoaded("Blizzard_Collections") then
			LoadAddOn("Blizzard_Collections")
		end
		
		ShowUIPanel(CollectionsJournal)
		CollectionsJournal_SetTab(CollectionsJournal, 2) -- 1 = Mounts
		PetJournal_ShowPetCardBySpeciesID(button.PetID)
	end
end

function Pet.OnClear(button)
	button.PetID = nil
	button.secButton.PetID = nil
	
	button.info = nil
	button.secButton.info = nil
	
	button.overlay:Hide()
	button.overlay:SetHeight(button.icon:GetWidth())
	button.overlay:SetWidth(button.icon:GetWidth())
	
	button.secButton.overlay:Hide()
	button.secButton.overlay:SetTexCoord(1, 1, 1, 1)
	button.secButton.overlay:SetHeight(button.icon:GetWidth())
	button.secButton.overlay:SetWidth(button.icon:GetWidth())
	
end

function Pet.OnEnter(button)
	Pet.ShowToolTipFrame(button)
end

function Pet.OnLeave(button)
	if Pet.tooltipFrame then Pet.tooltipFrame:Hide() end
	if button.ItemID then Item.OnLeave(button) end
end
--[[
self.TypeInfo.type:SetText(_G["BATTLE_PET_NAME_"..petType]);
	self.TypeInfo.typeIcon:SetTexture("Interface\\PetBattles\\PetIcon-"..PET_TYPE_SUFFIX[petType]);
	self.TypeInfo.abilityID = PET_BATTLE_PET_TYPE_PASSIVES[petType];
	
		--Update pet abilites
	local abilities, levels = C_PetJournal.GetPetAbilityList(speciesID);
	for i=1,NUM_PET_ABILITIES do  -- 6 abilities
		local spellFrame = self["spell"..i];
		if abilities[i] and canBattle then
			local name, icon, petType = C_PetJournal.GetPetAbilityInfo(abilities[i]);
			local isNotUsable = not level or level < levels[i];
			spellFrame.icon:SetTexture(icon);
			spellFrame.icon:SetDesaturated(isNotUsable);
			spellFrame.LevelRequirement:SetText(levels[i]);
			spellFrame.LevelRequirement:SetShown(isNotUsable);
			spellFrame.BlackCover:SetShown(isNotUsable);
			if (not level or level < levels[i]) then
				spellFrame.additionalText = format(PET_ABILITY_REQUIRES_LEVEL, levels[i]);
			else
				spellFrame.additionalText = nil;
			end
			spellFrame.abilityID = abilities[i];
			spellFrame.petID = PetJournalPetCard.petID;
			spellFrame.speciesID = speciesID;
			spellFrame:Show();
		else
			spellFrame:Hide();
		end
	end
	
	<Texture name="$parentIconBorder" file="Interface\PetBattles\PetJournal" parentKey="iconBorder">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parentIcon" x="0" y="0"/>
					</Anchors>
					<Size x="53" y="54"/>
					<TexCoords left="0.41992188" right="0.52343750" top="0.02246094" bottom="0.07519531"/>	
				</Texture>
]]--
function Pet.Refresh(button)
	-- speciesName, speciesIcon, petType, companionID, tooltipSource, tooltipDescription, isWild, canBattle, isTradeable, isUnique, obtainable = C_PetJournal.GetPetInfoBySpeciesID(button.PetID)
	local speciesName, speciesIcon, petType, companionID, tooltipSource, tooltipDescription = C_PetJournal_GetPetInfoBySpeciesID(button.PetID)
	if not speciesName then return end
	if button.type == "secButton" then
		--/dump C_PetJournal.GetPetInfoBySpeciesID(1145)
	else
		button.name:SetText(PET_COLOR..speciesName)
		button.extra:SetText(_G["BATTLE_PET_NAME_"..petType])
	end

	
	button.overlay:Show()
	button.overlay:SetTexture(PET_JOURNAL_TEXTURE)
	button.overlay:SetTexCoord(0.41992188, 0.52343750, 0.02246094, 0.07519531)
	button.overlay:SetHeight(button.icon:GetHeight()*1.2)
	button.overlay:SetWidth(button.icon:GetWidth()*1.2)

	
	button.icon:SetTexture(speciesIcon)
	button.info = {speciesName, speciesIcon, petType, tooltipSource, tooltipDescription, companionID}
end

function Pet.GetStringContent(str)
	if tonumber(str) then
		return tonumber(str)
	else
		return {
			str_match(str, "(%d+)"),
			str_match(str, "i(%d+)"),	-- linked item
		}
	end
end

--################################
-- Pet frame
--################################
function Pet.ShowToolTipFrame(button)

	if not Pet.tooltipFrame then 
		local name = "AtlasLoot-PetToolTip"
		local frame = CreateFrame("Frame", name)
		frame:SetClampedToScreen(true)
		frame:SetSize(300, 50)
		frame:SetBackdrop({bgFile = "Interface/Tooltips/UI-Tooltip-Background",
							edgeFile = "Interface/Tooltips/UI-Tooltip-Border", 
							tile = true, tileSize = 16, edgeSize = 16, 
							insets = { left = 4, right = 4, top = 4, bottom = 4 }})
		frame:SetBackdropColor(0,0,0,1)
		
		frame.icon = frame:CreateTexture(name.."-icon", frame)
		frame.icon:SetPoint("TOPLEFT", frame, "TOPLEFT", 5, -5)
		frame.icon:SetHeight(26)
		frame.icon:SetWidth(26)
		frame.icon:SetTexture("Interface\\Icons\\INV_Misc_QuestionMark")
		
		frame.name = frame:CreateFontString(name.."-name", "ARTWORK", "GameFontNormal")
		frame.name:SetPoint("TOPLEFT", frame.icon, "TOPRIGHT", 3, 0)
		frame.name:SetJustifyH("LEFT")
		frame.name:SetWidth(250)
		--frame.name:SetHeight(12)
		frame.name:SetTextColor(1, 1, 1, 1)
		
		frame.source = frame:CreateFontString(name.."-source", "ARTWORK", "GameFontNormalSmall")
		frame.source:SetPoint("TOPLEFT", frame.name, "BOTTOMLEFT", 0, -1)
		frame.source:SetJustifyH("LEFT")
		frame.source:SetJustifyV("TOP")
		frame.source:SetWidth(250)
		--frame.info:SetHeight(20)
		frame.source:SetTextColor(1, 1, 1, 1)
		
		frame.model = CreateFrame("PlayerModel", name.."-model")
		frame.model:ClearAllPoints()
		frame.model:SetParent(frame)
		frame.model:SetPoint("TOPLEFT", frame.icon, "BOTTOMLEFT", 0, -3)
		frame.model:SetSize(145,145)
		frame.model:SetRotation(MODELFRAME_DEFAULT_ROTATION)
		
		frame.desc = frame:CreateFontString(name.."-desc", "ARTWORK", "GameFontNormalSmall")
		frame.desc:SetPoint("TOPLEFT", frame.model, "TOPRIGHT", 0, -3)
		frame.desc:SetJustifyH("LEFT")
		frame.desc:SetJustifyV("TOP")
		frame.desc:SetWidth(145)
		frame.desc:SetHeight(145)
		frame.desc:SetTextColor(1, 1, 1, 1)

		frame.typeIcon = frame:CreateTexture(name.."-typeIcon", frame)
		frame.typeIcon:SetPoint("TOPRIGHT", frame, "TOPRIGHT", -5, -5)
		frame.typeIcon:SetHeight(20)
		frame.typeIcon:SetWidth(20)
		frame.typeIcon:SetTexture("Interface\\Icons\\INV_Misc_QuestionMark")
		frame.typeIcon:SetTexCoord(0.79687500, 0.49218750, 0.50390625, 0.65625000)
		
		Pet.tooltipFrame = frame
	end
	local tmp
	local frame = Pet.tooltipFrame
	frame:ClearAllPoints()
	frame:SetParent(button:GetParent():GetParent())
	frame:SetFrameStrata("TOOLTIP")
	frame:SetPoint("BOTTOMLEFT", button, "TOPRIGHT")
	
	frame.name:SetText(button.info[1])
	frame.source:SetText(button.info[4])
	frame.icon:SetTexture(button.info[2])
	tmp = frame.name:GetHeight()+frame.source:GetHeight()
	frame.icon:SetSize(tmp,tmp)
	frame:SetHeight(tmp+155)
	
	frame.desc:SetText(button.info[5])
	
	frame.model:SetCreature(button.info[6])
	frame.model:SetDoBlend(false)
	--frame.model:SetAnimation(0,-1) 0=alive, 6=dead
	
	frame.typeIcon:SetTexture("Interface\\PetBattles\\PetIcon-"..PET_TYPE_SUFFIX[button.info[3]])
	
	
	
	frame:Show()
	if button.ItemID then
		Item.OnEnter(button, {frame, "ANCHOR_TOPLEFT", 0, 2})
	end
end

function AtlasLoot:DEV_Renew()
	self.db.PETINFO = {}
	local petID, speciesID, owned, customName, level, favorite, isRevoked, speciesName
	local numPets = C_PetJournal.GetNumPets()
	
	for i=1,numPets do
		petID, speciesID, owned, customName, level, favorite, isRevoked, speciesName = C_PetJournal.GetPetInfoByIndex(i)
		if speciesName and speciesID then
			self.db.PETINFO[speciesName] = speciesID
		end
	end
end
